include ../../components/header/header
include ../../components/filter-date-dropdown/filter-date-dropdown
include ../../components/dropdown/dropdown
include ../../components/range-slider/range-slider
include ../../components/checkbox-button/checkbox-button
include ../../components/expandable-checkbox-list/expandable-checkbox-list
include ../../components/pagination/pagination
include ../../components/room-card/room-card
include ../../components/footer/footer
include ../../components/footer-mobile/footer-mobile
include ../../templates/vars-and-mixins

doctype html
html(lang="en")
  +pageBase({
    title: 'Search room',
    keywords: 'Search room, components, MetaLamp, education',
    description: 'Отель Toxin, подобрать номер',
  })
  body
    .search-room-wrapper
      +header()
      .search-room-filter
        button.search-room-filter__button.js-search-room-filter__button
          span.search-room-filter__wrapper
            span.search-room-filter__icon
            span.search-room-filter__text Фильтры
      main.search-room-container
        .search-room-widgets-container.js-search-room-widgets-container
          form.search-room-widgets-form
            section.search-room-widgets-wrapper
              .search-room-filter-date-dropdown-container
                +filter-date-dropdown({
                  title: 'Даты пребывания в отеле',
                  dateFrom: '2020, 8, 19',
                  dateTo: '2020, 8, 23',
                })
              .search-room-guests-dropdown-container
                +dropdown({
                  title: 'Гости',
                  items: ['Взрослые', 'Дети', 'Младенцы'],
                  addingButtons: true,
                  isGuests: true,
                  buttonsNum: [0, 2],
                  clicksNum: [3, 1],
                  size: 'S',
                })
              .search-room-range-slider-container
                +range-slider({
                  title: 'Диапазон цены',
                })
                p.search-room-slider-sub-text Стоимость за сутки пребывания в номере
              .search-room-checkbox-buttons-container
                .search-room-checkbox-buttons-wrapper
                  each checkbox in checkboxes
                    -
                      let { text, title, checked } = checkbox;
                      title && title !== 'Правила дома' ? title = 'Правила дома' : title

                    +checkbox-button({
                      text,
                      title,
                      checked,
                    })

              .search-room-rich-checkbox-buttons-container
                .search-room-rich-checkbox-buttons-wrapper
                  each searchRoomRichCheckboxButton in searchRoomRichCheckboxButtons
                    - const { title, richButtonTitle, text, isRich } = searchRoomRichCheckboxButton;
                    +checkbox-button({
                      title,
                      richButtonTitle,
                      text,
                      isRich,
                    })

              .search-room-conveniences-dropdown-container
                +dropdown({
                  title: 'Удобства номера',
                  items: ['Спальни', 'Кровати', 'Ванные комнаты'],
                  isConveniences: true,
                  buttonsNum: [0, 1],
                  clicksNum: [2, 2],
                  size: 'S',
                })
              .search-room-expandable-checkbox-list-container
                +expandable-checkbox-list({
                  title: 'Дополнительные удобства',
                  checkboxTexts: ['Завтрак', 'Письменный стол', 'Стул для кормления', 'Кроватка', 'Телевизор', 'Шампунь'],
                })
        section.search-room-cards-container
          h1.search-room-title Номера, которые мы для вас подобрали
          +pagination({
            numbers: '1 - 12',
            totalNumber: 'из 100+ вариантов аренды',
          })
      +footer()
      +footer-mobile()
      .search-room-pagination-container
        each roomCardProperty in roomsCardsProperties
          -
            const [
              photo,
              number,
              price,
              starsNumber,
              checkedButton,
              reviewsNumber,
              isLux
            ] = roomCardProperty;

          +room-card({
            photos: [photo, photo, photo, photo],
            number,
            price,
            starsNumber,
            checkedButton,
            reviewsNumber,
            isLux,
          })